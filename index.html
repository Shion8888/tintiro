<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ãƒãƒ³ãƒãƒ­</title>

<style>
  body {
    margin: 0;
    padding: 0;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background: #111;
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  .container {
    width: 100%;
    max-width: 420px;
    padding: 20px;
    text-align: center;
  }

  h1 {
    margin-bottom: 10px;
    font-size: 2rem;
  }

  /* ã©ã‚“ã¶ã‚Š */
  .bowl {
    font-size: 5rem;
    margin: 10px 0;
  }

  /* ã‚µã‚¤ã‚³ãƒ­ */
  .dice-area {
    display: flex;
    justify-content: center;
    gap: 10px;
    font-size: 3rem;
    margin: 10px 0;
    height: 3.5rem;
  }

  .dice {
    display: inline-block;
    animation: drop 0.4s ease-out;
  }

  @keyframes drop {
    from {
      transform: translateY(-40px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .result {
    font-size: 1.3rem;
    margin: 10px 0;
    min-height: 2em;
  }

  button {
    width: 100%;
    font-size: 1.4rem;
    padding: 15px;
    border: none;
    border-radius: 10px;
    background: #ffcc00;
    color: #000;
    font-weight: bold;
    cursor: pointer;
  }

  button:active {
    transform: scale(0.97);
  }
</style>
</head>

<body>
<div class="container">
  <h1>ğŸ² ãƒãƒ³ãƒãƒ­</h1>

  <div class="bowl">ğŸ¥£</div>

  <div class="dice-area" id="dice">
    <span class="dice">ğŸ²</span>
    <span class="dice">ğŸ²</span>
    <span class="dice">ğŸ²</span>
  </div>

  <div class="result" id="result"></div>

  <button onclick="roll()">ã‚µã‚¤ã‚³ãƒ­ã‚’æŒ¯ã‚‹</button>
</div>

<script>
let rolling = false;

function rand() {
  return Math.floor(Math.random() * 6) + 1;
}

function roll() {
  if (rolling) return;
  rolling = true;

  const diceArea = document.getElementById("dice");
  const resultArea = document.getElementById("result");
  resultArea.textContent = "";

  let count = 0;
  let d1, d2, d3;

  const interval = setInterval(() => {
    d1 = rand();
    d2 = rand();
    d3 = rand();

    diceArea.innerHTML = `
      <span class="dice">${d1}</span>
      <span class="dice">${d2}</span>
      <span class="dice">${d3}</span>
    `;

    count++;
    if (count >= 8) {
      clearInterval(interval);
      rolling = false;
      judge(d1, d2, d3);
    }
  }, 120);
}

function judge(a, b, c) {
  const resultArea = document.getElementById("result");
  const dice = [a, b, c].sort();

  // ã‚¾ãƒ­ç›®
  if (a === b && b === c) {
    if (a === 1) {
      resultArea.textContent = "ğŸ‰ ãƒ”ãƒ³ã‚¾ãƒ­ï¼ˆæœ€å¼·ï¼‰";
    } else {
      resultArea.textContent = "âš¡ ã‚¢ãƒ©ã‚·";
    }
    return;
  }

  // ãƒ’ãƒ•ãƒŸ
  if (dice[0] === 1 && dice[1] === 2 && dice[2] === 3) {
    resultArea.textContent = "ğŸ’€ ãƒ’ãƒ•ãƒŸï¼ˆè² ã‘ï¼‰";
    return;
  }

  // ã‚·ã‚´ãƒ­
  if (dice[0] === 4 && dice[1] === 5 && dice[2] === 6) {
    resultArea.textContent = "ğŸ”¥ ã‚·ã‚´ãƒ­ï¼ˆå‹ã¡ï¼‰";
    return;
  }

  // å½¹ã‚ã‚Šï¼ˆç›®ï¼‰
  if (a === b || b === c || a === c) {
    const pair = a === b ? c : a === c ? b : a;
    resultArea.textContent = `ğŸ‘‰ å½¹ã‚ã‚Šï¼š${pair}`;
    return;
  }

  // å½¹ãªã—
  resultArea.textContent = "ğŸ˜ å½¹ãªã—";
}
</script>
</body>
</html>
